<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pulley System</title>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background-color: #f5f5f5;
      margin: 0;
      overflow: hidden;
    }

    #box {
      position: relative;
      width: 600px;
      height: 400px;
      border: 2px solid black;
      background-color: #fff;
      overflow: hidden;
    }

    #divider {
      position: absolute;
      top: 50%;
      left: 250px;
      width: 10px;
      height: 100%;
      background-color: gray;
      transform: translateY(-50%);
    }

    #pulley {
      position: absolute;
      top: 0;
      right: 0;
      width: 50px;
      display: flex;
      align-items: flex-start;
      justify-content: center;
    }

    #rope {
      position: absolute;
      top: 0;
      width: 2px;
      background-color: black;
      height: 100%;
    }

    #load {
      position: absolute;
      bottom: 0;
      width: 30px;
      height: 30px;
      background-color: red;
      border-radius: 50%;
    }

    .ball {
      position: absolute;
      width: 20px;
      height: 20px;
      background-color: blue;
      border-radius: 50%;
    }

    #ball1 {
      top: 20px;
      left: 50px;
      animation: moveBall 4s infinite alternate;
    }

    #ball2 {
      top: 100px;
      left: 120px;
      animation: moveBall 3s infinite alternate;
    }

    #ball3 {
      top: 200px;
      left: 80px;
      animation: moveBall 2.5s infinite alternate;
    }

    #ball4 {
      top: 150px;
      left: 30px;
      animation: moveBall 3.5s infinite alternate;
    }

    @keyframes moveBall {
      0%, 100% {
        transform: translate(0, 0);
      }
      50% {
        transform: translate(150px, 50px);
      }
    }
  </style>
</head>
<body>
  <div id="box">
    <div id="divider"></div>
    <div id="pulley">
      <div id="rope"></div>
      <div id="load"></div>
    </div>
    <div class="ball" id="ball1"></div>
    <div class="ball" id="ball2"></div>
    <div class="ball" id="ball3"></div>
    <div class="ball" id="ball4"></div>
  </div>

  <script>
    const divider = document.getElementById("divider");
    const pulley = document.getElementById("pulley");
    const rope = document.getElementById("rope");
    const load = document.getElementById("load");

    let direction = 1;
    const dividerSpeed = 2;
    const boxHeight = document.getElementById("box").clientHeight;

    function moveDivider() {
      let top = parseFloat(getComputedStyle(divider).top);
      if (top >= boxHeight - divider.offsetHeight || top <= 0) {
        direction *= -1; // Reverse direction
      }
      divider.style.top = `${top + direction * dividerSpeed}px`;

      // Update pulley position
      pulley.style.top = `${divider.offsetTop}px`;

      // Update rope height
      const ropeHeight = boxHeight - divider.offsetTop;
      rope.style.height = `${ropeHeight}px`;

      // Adjust load position
      load.style.top = `${boxHeight - ropeHeight - load.offsetHeight}px`;

      requestAnimationFrame(moveDivider);
    }

    moveDivider();
  </script>
</body>
</html>
